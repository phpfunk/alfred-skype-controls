### Controls ##### call# sms################################# Call Number: call 5551212
# Call Skype User: call phpfunk# Call Speed Dial: call 1# SMS Number: sms +14845551212 This is my message (The phone number must have the country code)### END ####

on sendMsg(nm, t, d)	tell application "GrowlHelperApp"		set the allNotificationsList to {nm}		set the enabledNotificationsList to {nm}		register as application "Skype" all notifications allNotificationsList default notifications enabledNotificationsList icon of application "Skype"		notify with name nm title t description d application name "Skype"	end tellend sendMsgon replaceText(find, replace, subject)	set prevTIDs to text item delimiters of AppleScript	set text item delimiters of AppleScript to find	set subject to text items of subject		set text item delimiters of AppleScript to replace	set subject to "" & subject	set text item delimiters of AppleScript to prevTIDs		return subjectend replaceTextto splitString(aString, delimiter)	set retVal to {}	set prevDelimiter to AppleScript's text item delimiters	log delimiter	set AppleScript's text item delimiters to {delimiter}	set retVal to every text item of aString	set AppleScript's text item delimiters to prevDelimiter	return retValend splitStringon alfred_script(q)		set notify_title to ""	set notify_msg to ""		tell application "Skype"		#CALL can be:		# USERNAME -- CALL phpfunk		# PSTN -- CALL 4845050864		# SPEED DIAL CODE -- CALL 1		if "call" is in q then			set notify_title to "Call Error"			set q to my replaceText("call ", "", q)			set res to send command "CALL " & q script name "Make a Call with Alfred"						# Send an SMS			# 		else if "sms" is in q then			set notify_title to "SMS Error"			set q to my replaceText("sms ", "", q)			set tmp to my splitString(q, " ")			set nm to item 1 of tmp			set res to send command "CREATE SMS OUTGOING " & nm script name "Send SMS with Alfred"						if "STATUS COMPOSING" is in res then				set msg to my replaceText(nm & " ", "", q)				set eyed to my splitString(res, " ")				set eyed to item 2 of eyed				set res to send command "SET SMS " & eyed & " BODY " & msg script name "Send SMS with Alfred"				set res to send command "ALTER SMS " & eyed & " SEND" script name "Send SMS with Alfred"								if " SEND" is in res then					set notify_msg to "Your message was successfully sent to " & nm					set notify_title to "Success"				end if			end if		end if	end tell		if "ERROR" is in res or "FAIL" is in res then		set notify_msg to my splitString(res, ": ")		try			set notify_msg to item 2 of notify_msg		on error			set notify_msg to res		end try		sendMsg(notify_title, notify_title, notify_msg)	else if notify_msg is not equal to "" then		sendMsg(notify_title, notify_title, notify_msg)	end if	end alfred_script